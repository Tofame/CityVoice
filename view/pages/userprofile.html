{{define "content"}}
<div id="userProfile" class="bg-gray-200 max-w-6xl mx-auto mt-16 mb-10 p-8 rounded-xl shadow-xl border border-black/10">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Your Profile</h2>

    <div class="max-w-6xl mx-auto flex flex-col md:flex-row gap-6">
        <!-- User Info -->
        <div class="md:w-2/3 bg-white p-6 rounded-xl shadow space-y-4 text-gray-800">
            <p><strong>Email:</strong> <span id="profileEmail">-</span></p>
            <p><strong>Name:</strong> <span id="profileName">-</span></p>
            <p><strong>Surname:</strong> <span id="profileSurname">-</span></p>
            <p><strong>Verified:</strong> <span id="profileVerified">-</span></p>
            <p><strong>Joined:</strong> <span id="profileCreated">-</span></p>
            <p><strong>Account Type:</strong> <span id="profileAccess">-</span></p>
        </div>

        <!-- User Actions -->
        <div class="md:w-2/3 bg-white p-6 rounded-xl shadow space-y-4 text-gray-800">
            <h3 class="text-lg font-semibold mb-2">Actions</h3>
            <span>No actions yet.</span>
        </div>

        <!-- Submited Projects -->
        <div id="submittedProjects" class="md:w-full bg-white p-6 rounded-xl shadow space-y-4 text-gray-800">
            <h3 class="text-lg font-semibold mb-2">Your Submitted Projects</h3>

            <div id="submittedProjectList"
                 class="space-y-4 max-h-[400px] overflow-y-auto pr-2">
                <!-- filled with js -->
            </div>

            <button id="btnSubmitProject" class="w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">
                Submit New Project
            </button>
        </div>
    </div>

    <div class="text-center mt-6">
        <button class="home-link bg-blue-600 text-white px-5 py-2 rounded-full font-semibold hover:bg-blue-700 transition">
            Back to Home
        </button>
    </div>
</div>

<div id="submitProjectModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000]">
    <div class="bg-white w-full max-w-lg p-6 rounded-lg shadow-lg relative max-h-[90vh] overflow-y-auto">
        <h2 class="text-xl font-bold mb-4">Submit New Project</h2>
        <form id="submitProjectForm" class="space-y-4">
            <div>
                <label class="block text-sm font-medium">Title</label>
                <input type="text" name="title" required class="w-full border p-2 rounded" />
            </div>
            <div>
                <label class="block text-sm font-medium">Description</label>
                <textarea name="description" rows="4" required class="w-full border p-2 rounded"></textarea>
            </div>
            <div>
                <label class="block text-sm font-medium">Predicted Cost (PLN)</label>
                <input type="number" name="cost" min="0" required class="w-full border p-2 rounded" />
            </div>
            <div>
                <label class="block text-sm font-medium">District</label>
                <select name="district" required class="w-full border p-2 rounded">
                    <option value="">Select District</option>
                    {{range $key, $value := .ProjectDistrictMap}}
                    <option value="{{$key}}">{{$value}}</option>
                    {{end}}
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium">Category</label>
                <select name="category" required class="w-full border p-2 rounded">
                    <option value="">Select Category</option>
                    {{range $key, $value := .ProjectCategoryMap}}
                    <option value="{{$key}}">{{$value}}</option>
                    {{end}}
                </select>
            </div>
            <div class="flex justify-between items-center mt-4">
                <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                    Submit
                </button>
                <button type="button" id="closeModal" class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400 transition">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>
{{end}}

{{ define "site_scripts" }}
<script src="/static/js/userprofile.js"></script>
{{end}}